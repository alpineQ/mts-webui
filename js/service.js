function syncRequest(b,a){return ajaxRequest(b,null,null,false,a)}function asyncRequest(d,a,b,c){ajaxRequest(d,a,b,true,c)}function ajaxRequest(g,b,c,f,e){var a={flag:0,data:{}};var d=e?"/goform/goform_set_cmd_process":g.cmd?"/goform/goform_get_cmd_process":"/goform/goform_set_cmd_process";$.ajax({type:!!e?"POST":"GET",url:d,data:g,dataType:"json",async:!!f,cache:false,error:function(h){if(f){c(h)}else{if(h.status==200){a.flag=0;a.data=jQuery.parseJSON("("+h.responseText+")")}}},success:function(h){if(f){b(h)}else{a.flag=1;a.data=h}}});if(!f){return a}}function USSDReplyCancel(b){$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:{goformId:"USSD_PROCESS",USSD_operator:"ussd_cancel"},cache:false,dataType:"json",success:function(c){if(c.result=="success"){a()}else{b(false)}}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_write_flag"},cache:false,async:true,dataType:"json",success:function(c){if(c.ussd_write_flag=="15"){setTimeout(a,1000)}else{if(c.ussd_write_flag=="13"){b(true)}else{b(false)}}},error:function(){b(false)}})}}function getUSSDResponse(b,c){$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false,"ussd_fail")}},error:function(){c(false,"ussd_fail")}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_write_flag"},cache:false,async:true,dataType:"json",success:function(d){if(d.ussd_write_flag=="1"){c(false,"ussd_no_service")}else{if(d.ussd_write_flag=="4"||d.ussd_write_flag=="unknown"||d.ussd_write_flag=="3"){c(false,"ussd_timeout")}else{if(d.ussd_write_flag=="15"){setTimeout(a,1000)}else{if(d.ussd_write_flag=="10"){callbackTemp(false,"ussd_retry")}else{if(d.ussd_write_flag=="99"){callbackTemp(false,"ussd_unsupport")}else{if(d.ussd_write_flag=="41"){callbackTemp(false,"operation_not_supported")}else{if(d.ussd_write_flag=="2"){callbackTemp(false,"network_terminated")}else{if(d.ussd_write_flag=="16"){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_data_info"},dataType:"json",async:true,cache:false,success:function(e){c(true,e)},error:function(){c(false,"ussd_info_error")}})}else{c(false,"ussd_fail")}}}}}}}}},error:function(){c(false,"ussd_fail")}})}}function getPhoneBookReady(a){$.ajax({type:"GET",url:"/goform/goform_get_cmd_process",data:{cmd:"pbm_init_flag",multi_data:0},cache:false,dataType:"json",success:function(b){if(b.pbm_init_flag==6){a(false,"error_info")}else{a(true,b)}},error:function(){a(false,"error_info")}})}function getPhoneBookCapacity(a,b){$.ajax({type:"GET",url:"/goform/goform_get_cmd_process",data:{cmd:"pbm_capacity_info",pbm_location:a==1?"pbm_native":"pbm_sim"},cache:false,dataType:"json",success:function(c){b(true,c)},error:function(){b(false,"error_info")}})}function getPhoneBooks(a,b){$.ajax({type:"GET",url:"/goform/goform_get_cmd_process",data:a,cache:false,dataType:"json",success:function(c){b(true,c.pbm_data||[])},error:function(){b(false,"error_info")}})}function deletePhoneBooks(b,c){$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false)}},error:function(){c(false)}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"pbm_write_flag"},cache:false,async:true,dataType:"json",success:function(d){if(d.pbm_write_flag=="3"||d.pbm_write_flag=="4"||d.pbm_write_flag=="5"||d.pbm_write_flag=="20"){setTimeout(a,1000)}else{if(d.pbm_write_flag=="0"){c(true)}else{c(false)}}},error:function(){c(false)}})}}function savePhoneBook(b,c){$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false)}},error:function(){c(false)}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"pbm_write_flag"},cache:false,async:true,dataType:"json",success:function(d){if(d.pbm_write_flag=="1"||d.pbm_write_flag=="2"||d.pbm_write_flag=="20"){setTimeout(a,1000)}else{if(d.pbm_write_flag=="0"){c(true)}else{c(false)}}},error:function(){c(false)}})}}function getSmsCapability(){var a={};$.ajax({type:"GET",url:"/goform/goform_get_cmd_process",data:{cmd:"sms_capacity_info"},cache:false,dataType:"json",async:false,success:function(b){a.flag=true;a.data=b},error:function(){a.flag=false;a.data="error_info"}});return a}function getSMSMessages(a,b){$.ajax({type:"GET",url:"/goform/goform_get_cmd_process",data:a,cache:false,dataType:"json",success:function(c){b(true,c.messages||[])},error:function(){b(false,"error_info")}})}function sendSMS(b,c){window.isCanPollingSMS=false;$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false,"send_fail_try_again");window.isCanPollingSMS=true}},error:function(){c(false,"send_fail_try_again");window.isCanPollingSMS=true}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"sms_cmd_status_info",sms_cmd:4},cache:false,async:true,dataType:"json",success:function(d){if(d.sms_cmd_status_result=="1"){setTimeout(a,1000)}else{if(d.sms_cmd_status_result=="3"){c(true,"success_info");window.isCanPollingSMS=true}else{if(d.sms_cmd_status_result=="2"){c(false,"send_fail_try_again");window.isCanPollingSMS=true}else{c(true,"success_info");window.isCanPollingSMS=true}}}},error:function(){c(false,"send_fail_try_again");window.isCanPollingSMS=true}})}}function deleteMessage(b,c){window.isCanPollingSMS=false;$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false,"delete_fail_try_again");window.isCanPollingSMS=true}},error:function(){c(false,"delete_fail_try_again");window.isCanPollingSMS=true}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"sms_cmd_status_info",sms_cmd:6},cache:false,async:true,dataType:"json",success:function(d){if(d.sms_cmd_status_result=="1"){setTimeout(a,1000)}else{if(d.sms_cmd_status_result=="3"){c(true,"success_info");window.isCanPollingSMS=true}else{if(d.sms_cmd_status_result=="2"){c(false,"delete_fail_try_again");window.isCanPollingSMS=true}else{c(true,"success_info");window.isCanPollingSMS=true}}}},error:function(){c(false,"delete_fail_try_again");window.isCanPollingSMS=true}})}}function setSmsRead(a,b){$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:a,cache:false,dataType:"json",success:function(c){if(c.result=="success"){b(true)}else{b(false)}}})}function saveSMS(b,c){window.isCanPollingSMS=false;$.ajax({type:"POST",url:"/goform/goform_set_cmd_process",data:b,cache:false,dataType:"json",success:function(d){if(d.result=="success"){a()}else{c(false,"sms_save_draft_failed");window.isCanPollingSMS=true}},error:function(){c(false,"sms_save_draft_failed");window.isCanPollingSMS=true}});function a(){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"sms_cmd_status_info",sms_cmd:5},cache:false,async:true,dataType:"json",success:function(d){if(d.sms_cmd_status_result=="1"){setTimeout(a,1000)}else{if(d.sms_cmd_status_result=="3"){c(true,"success_info");window.isCanPollingSMS=true}else{if(d.sms_cmd_status_result=="2"){c(false,"sms_save_draft_failed");window.isCanPollingSMS=true}else{c(true,"success_info");window.isCanPollingSMS=true}}}},error:function(){c(false,"send_fail_try_again");window.isCanPollingSMS=true}})}}function getTrafficSatistics(a){$.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"total_volume,curr_volume",multi_data:1},cache:false,async:true,dataType:"json",success:function(b){a(true,b)},error:function(){a(false,"error_info")}})};